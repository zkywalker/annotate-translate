<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>测试 Provider Logo 显示</title>
  <link rel="stylesheet" href="translation-ui.css">
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      padding: 40px;
      background: #f5f5f5;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    
    .test-section {
      background: white;
      padding: 30px;
      margin-bottom: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .test-section h2 {
      color: #1a73e8;
      margin-bottom: 20px;
      font-size: 20px;
    }
    
    .test-section h3 {
      color: #333;
      margin: 20px 0 10px 0;
      font-size: 16px;
    }
    
    .footer-demo {
      display: inline-block;
      margin: 10px 0;
    }
    
    .provider-demos {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    
    .provider-card {
      flex: 1;
      min-width: 200px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border: 2px solid #e0e0e0;
    }
    
    .provider-card h4 {
      margin: 0 0 15px 0;
      color: #555;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="test-section">
    <h2>🎨 Provider Logo 显示测试</h2>
    <p>测试在不同场景下 Google、有道、DeepL 的 logo 图标显示效果</p>
  </div>

  <div class="test-section">
    <h3>1. Translation Footer 中的 Provider Logo</h3>
    <p>翻译结果页脚显示效果：</p>
    
    <div class="provider-demos">
      <div class="provider-card">
        <h4>Google Translate</h4>
        <div class="translation-footer footer-demo">
          <span class="provider-info">
            <img class="provider-logo" src="icons/icon_logo_google.svg" alt="Google">
            <span>Powered by Google</span>
          </span>
          <span class="time-info">12:34:56</span>
        </div>
      </div>

      <div class="provider-card">
        <h4>有道翻译</h4>
        <div class="translation-footer footer-demo">
          <span class="provider-info">
            <img class="provider-logo" src="icons/icon_logo_youdao.svg" alt="Youdao">
            <span>Powered by Youdao</span>
          </span>
          <span class="time-info">12:34:56</span>
        </div>
      </div>

      <div class="provider-card">
        <h4>DeepL</h4>
        <div class="translation-footer footer-demo">
          <span class="provider-info">
            <img class="provider-logo" src="icons/icon_logo_deepl.svg" alt="DeepL">
            <span>Powered by DeepL</span>
          </span>
          <span class="time-info">12:34:56</span>
        </div>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h3>2. Popup Select 中的 Provider Logo</h3>
    <p>弹出框选择器显示效果：</p>
    
    <div class="setting-item">
      <label for="test-provider">Translation Service:</label>
      <div class="provider-select-container">
        <img id="test-provider-icon" class="provider-select-icon" src="icons/icon_logo_google.svg" alt="Google">
        <select id="test-provider" onchange="updateTestIcon(this)">
          <option value="google" data-logo="icons/icon_logo_google.svg">Google Translate</option>
          <option value="youdao" data-logo="icons/icon_logo_youdao.svg">有道翻译</option>
          <option value="deepl" data-logo="icons/icon_logo_deepl.svg">DeepL</option>
        </select>
      </div>
    </div>
  </div>

  <div class="test-section">
    <h3>3. Options 页面中的 Provider Logo</h3>
    <p>设置页面单选按钮显示效果：</p>
    
    <div class="radio-group">
      <label class="radio-item selected">
        <input type="radio" name="test-provider-radio" value="google" checked>
        <span class="provider-option-label">
          <img src="icons/icon_logo_google.svg" alt="Google" class="provider-option-logo">
          <span>Google Translate</span>
        </span>
      </label>
      <label class="radio-item">
        <input type="radio" name="test-provider-radio" value="youdao">
        <span class="provider-option-label">
          <img src="icons/icon_logo_youdao.svg" alt="Youdao" class="provider-option-logo">
          <span>有道翻译</span>
        </span>
      </label>
      <label class="radio-item">
        <input type="radio" name="test-provider-radio" value="deepl">
        <span class="provider-option-label">
          <img src="icons/icon_logo_deepl.svg" alt="DeepL" class="provider-option-logo">
          <span>DeepL</span>
        </span>
      </label>
    </div>
  </div>

  <div class="test-section">
    <h3>4. 完整的翻译结果 UI 示例</h3>
    <p>包含 Provider Logo 的完整翻译结果界面：</p>
    
    <div id="translation-container"></div>
  </div>

  <!-- 引入翻译相关脚本 -->
  <script src="i18n-helper.js"></script>
  <script src="translation-ui.js"></script>
  
  <script>
    // 测试 Provider 图标切换
    function updateTestIcon(select) {
      const icon = document.getElementById('test-provider-icon');
      const selectedOption = select.options[select.selectedIndex];
      const logoPath = selectedOption.dataset.logo;
      
      if (logoPath) {
        icon.src = logoPath;
        icon.alt = selectedOption.textContent;
      }
    }

    // 添加单选按钮的选中效果
    document.querySelectorAll('.radio-item').forEach(item => {
      item.addEventListener('click', function() {
        document.querySelectorAll('.radio-item').forEach(i => i.classList.remove('selected'));
        this.classList.add('selected');
      });
    });

    // 创建完整的翻译结果示例
    async function createTranslationExample() {
      // 初始化 i18n
      await initializeLanguage();
      
      // 创建翻译UI实例
      const translationUI = new TranslationUI({
        showPhonetic: true,
        showDefinitions: true,
        showExamples: true,
        audioProvider: 'google'
      });

      // 模拟翻译结果数据
      const mockResults = [
        {
          provider: 'Google',
          text: 'hello',
          translation: '你好',
          phonetic: {
            us: '/həˈloʊ/',
            uk: '/həˈləʊ/'
          },
          definitions: [
            {
              partOfSpeech: 'n.',
              text: '招呼；问候',
              synonyms: ['greeting', 'salutation']
            },
            {
              partOfSpeech: 'v.',
              text: '打招呼；问好'
            }
          ],
          examples: [
            {
              source: 'Hello, how are you?',
              translation: '你好，你好吗？'
            }
          ],
          timestamp: Date.now()
        },
        {
          provider: 'Youdao',
          text: 'world',
          translation: '世界',
          phonetic: {
            us: '/wɜːrld/',
            uk: '/wɜːld/'
          },
          timestamp: Date.now()
        },
        {
          provider: 'DeepL',
          text: 'translation',
          translation: '翻译',
          phonetic: {
            us: '/trænsˈleɪʃn/',
            uk: '/trænsˈleɪʃn/'
          },
          timestamp: Date.now()
        }
      ];

      const container = document.getElementById('translation-container');
      
      mockResults.forEach((result, index) => {
        const resultElement = translationUI.createUI(result);
        resultElement.style.marginBottom = '20px';
        container.appendChild(resultElement);
      });
    }

    // 页面加载完成后创建示例
    window.addEventListener('load', createTranslationExample);
  </script>
</body>
</html>
