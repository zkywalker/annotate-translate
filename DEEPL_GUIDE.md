# DeepL ç¿»è¯‘æœåŠ¡é›†æˆæŒ‡å—

## å¿«é€Ÿå¼€å§‹

### 1. è·å– DeepL API å¯†é’¥

1. è®¿é—® [DeepL Pro API](https://www.deepl.com/pro-api)
2. æ³¨å†Œè´¦æˆ·ï¼ˆå…è´¹æˆ–ä¸“ä¸šç‰ˆï¼‰
3. åœ¨è´¦æˆ·é¡µé¢è·å– API å¯†é’¥
4. å…è´¹è´¦æˆ·åŒ…å« **500,000 å­—ç¬¦/æœˆ** çš„ç¿»è¯‘é¢åº¦

### 2. é…ç½®æ‰©å±•

1. ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œé€‰æ‹© "è®¾ç½®"
2. åœ¨ "ç¿»è¯‘æä¾›å•†" éƒ¨åˆ†ï¼Œé€‰æ‹© "ğŸš€ DeepL"
3. è¾“å…¥æ‚¨çš„ API å¯†é’¥
4. é€‰æ‹©æ˜¯å¦ä½¿ç”¨å…è´¹ APIï¼ˆé»˜è®¤å‹¾é€‰ï¼‰
   - âœ… å‹¾é€‰ï¼šä½¿ç”¨ `api-free.deepl.com`ï¼ˆå…è´¹è´¦æˆ·ï¼‰
   - âŒ ä¸å‹¾é€‰ï¼šä½¿ç”¨ `api.deepl.com`ï¼ˆä¸“ä¸šè´¦æˆ·ï¼‰
5. ç‚¹å‡» "ä¿å­˜è®¾ç½®"

### 3. å¼€å§‹ä½¿ç”¨

- åœ¨ç½‘é¡µä¸Šé€‰ä¸­æ–‡æœ¬
- å³é”®ç‚¹å‡»é€‰æ‹© "Translate"
- æˆ–ä½¿ç”¨å¿«æ·é”®/æŒ‰é’®è§¦å‘ç¿»è¯‘
- DeepL å°†æä¾›é«˜è´¨é‡çš„ç¿»è¯‘ç»“æœ

## åŠŸèƒ½ç‰¹ç‚¹

### âœ¨ ä¼˜åŠ¿

1. **é«˜è´¨é‡ç¿»è¯‘**ï¼šDeepL ä»¥å…¶å“è¶Šçš„ç¿»è¯‘è´¨é‡è‘—ç§°
2. **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒ 30+ ç§è¯­è¨€
3. **å…è´¹é¢åº¦**ï¼šæ¯æœˆ 500,000 å­—ç¬¦çš„å…è´¹ç¿»è¯‘
4. **è‡ªåŠ¨è¯­è¨€æ£€æµ‹**ï¼šæ— éœ€æ‰‹åŠ¨é€‰æ‹©æºè¯­è¨€
5. **ç»Ÿä¸€æ¶æ„**ï¼šä¸ Google Translateã€æœ‰é“ç¿»è¯‘ä½¿ç”¨ç›¸åŒæ¥å£

### ğŸ”§ æŠ€æœ¯é›†æˆ

- ç»§æ‰¿è‡ª `TranslationProvider` æŠ½è±¡åŸºç±»
- è‡ªåŠ¨è¡¥å……éŸ³æ ‡ï¼ˆé€šè¿‡ FreeDictionary APIï¼‰
- æ”¯æŒç¼“å­˜ä»¥èŠ‚çœ API é…é¢
- CORS ä»£ç†å¤„ç†ï¼ˆé€šè¿‡ background scriptï¼‰
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

## æ”¯æŒçš„è¯­è¨€

DeepL æ”¯æŒä»¥ä¸‹è¯­è¨€ï¼ˆæˆªè‡³ 2024ï¼‰ï¼š

| è¯­è¨€ | ä»£ç  | è¯´æ˜ |
|------|------|------|
| ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰ | zh-CN | Chinese (Simplified) |
| ä¸­æ–‡ï¼ˆç¹ä½“ï¼‰ | zh-TW | Chinese (Traditional) |
| è‹±è¯­ | en | English |
| æ—¥è¯­ | ja | Japanese |
| éŸ©è¯­ | ko | Korean |
| æ³•è¯­ | fr | French |
| å¾·è¯­ | de | German |
| è¥¿ç­ç‰™è¯­ | es | Spanish |
| ä¿„è¯­ | ru | Russian |
| æ„å¤§åˆ©è¯­ | it | Italian |
| è‘¡è„ç‰™è¯­ | pt | Portuguese |
| è·å…°è¯­ | nl | Dutch |
| æ³¢å…°è¯­ | pl | Polish |
| é˜¿æ‹‰ä¼¯è¯­ | ar | Arabic |
| ... | ... | æ€»è®¡ 30+ ç§è¯­è¨€ |

## æµ‹è¯•å·¥å…·

### ä½¿ç”¨æµ‹è¯•é¡µé¢

1. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `test-deepl-translate.html`
2. è¾“å…¥æ‚¨çš„ API å¯†é’¥å¹¶ä¿å­˜
3. ç‚¹å‡» "Test Connection" éªŒè¯é…ç½®
4. å°è¯•ç¿»è¯‘ç¤ºä¾‹æ–‡æœ¬
5. æŸ¥çœ‹è¯¦ç»†çš„ç¿»è¯‘ç»“æœ

### æµ‹è¯•ç¤ºä¾‹

```javascript
// è‹±è¯‘ä¸­
æºæ–‡æœ¬: "Hello, how are you today?"
ç›®æ ‡è¯­è¨€: zh-CN
é¢„æœŸç»“æœ: "ä½ å¥½ï¼Œä½ ä»Šå¤©æ€ä¹ˆæ ·ï¼Ÿ"

// æ³•è¯‘è‹±
æºæ–‡æœ¬: "Bonjour le monde!"
ç›®æ ‡è¯­è¨€: en
é¢„æœŸç»“æœ: "Hello world!"
```

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæ²¡æœ‰éŸ³æ ‡ï¼Ÿ
**A:** DeepL æœ¬èº«ä¸æä¾›éŸ³æ ‡ä¿¡æ¯ã€‚æ‰©å±•ä¼šè‡ªåŠ¨ä½¿ç”¨ FreeDictionary API è¡¥å……è‹±æ–‡å•è¯çš„éŸ³æ ‡ã€‚è¦å¯ç”¨æ­¤åŠŸèƒ½ï¼š
1. è¿›å…¥è®¾ç½®é¡µé¢
2. æ‰¾åˆ° "éŸ³æ ‡ä¸æ³¨éŸ³è®¾ç½®"
3. å‹¾é€‰ "å¯ç”¨éŸ³æ ‡è¡¥å……"

### Q: å¦‚ä½•èŠ‚çœ API é…é¢ï¼Ÿ
**A:** 
1. å¯ç”¨ç¼“å­˜åŠŸèƒ½ï¼ˆè®¾ç½® â†’ æ€§èƒ½è®¾ç½® â†’ å¯ç”¨ç¼“å­˜ï¼‰
2. å¢åŠ ç¼“å­˜å¤§å°ï¼ˆæ¨è 100-500ï¼‰
3. é¿å…é‡å¤ç¿»è¯‘ç›¸åŒå†…å®¹

### Q: Free API å’Œ Pro API æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
**A:**
- **Free API**: 
  - æ¯æœˆ 500,000 å­—ç¬¦
  - é€‚åˆä¸ªäººä½¿ç”¨
  - ç«¯ç‚¹ï¼š`api-free.deepl.com`
- **Pro API**:
  - æ ¹æ®è®¢é˜…è®¡åˆ’æä¾›æ›´é«˜é…é¢
  - é€‚åˆå•†ä¸šä½¿ç”¨
  - ç«¯ç‚¹ï¼š`api.deepl.com`

### Q: å¦‚ä½•æŸ¥çœ‹å‰©ä½™é…é¢ï¼Ÿ
**A:** ç™»å½• [DeepL è´¦æˆ·é¡µé¢](https://www.deepl.com/pro-account) æŸ¥çœ‹ä½¿ç”¨æƒ…å†µå’Œå‰©ä½™é…é¢ã€‚

### Q: é‡åˆ° "403 Authentication failed" é”™è¯¯ï¼Ÿ
**A:** 
1. æ£€æŸ¥ API å¯†é’¥æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤ Free/Pro API é€‰æ‹©ä¸è´¦æˆ·ç±»å‹åŒ¹é…
3. ç¡®ä¿å¯†é’¥æ²¡æœ‰è¿‡æœŸ

### Q: é‡åˆ° "456 Quota exceeded" é”™è¯¯ï¼Ÿ
**A:** 
1. æ‚¨å·²è¶…å‡ºæœˆåº¦é…é¢é™åˆ¶
2. ç­‰å¾…ä¸‹æœˆé‡ç½®æˆ–å‡çº§åˆ° Pro è´¦æˆ·
3. ä¸´æ—¶åˆ‡æ¢åˆ°å…¶ä»–ç¿»è¯‘æä¾›å•†

## æŠ€æœ¯æ¶æ„

### æ•°æ®æµ

```
ç”¨æˆ·é€‰æ‹©æ–‡æœ¬
    â†“
Content Script (content.js)
    â†“
Translation Service (translation-service.js)
    â†“
DeepL Provider (DeepLTranslateProvider)
    â†“
Background Script (background.js) [CORS ä»£ç†]
    â†“
DeepL API (api-free.deepl.com æˆ– api.deepl.com)
    â†“
è¿”å›ç¿»è¯‘ç»“æœ
    â†“
è¡¥å……éŸ³æ ‡ (FreeDictionary API)
    â†“
æ˜¾ç¤ºç»“æœ (TranslationUI)
```

### æ ¸å¿ƒç»„ä»¶

1. **DeepLTranslateProvider** (`translation-service.js`)
   - ç»§æ‰¿ `TranslationProvider` åŸºç±»
   - å®ç° `translate()`, `detectLanguage()`, `getSupportedLanguages()` æ–¹æ³•
   - è¯­è¨€ä»£ç è½¬æ¢
   - API é…ç½®ç®¡ç†

2. **Background Handler** (`background.js`)
   - å¤„ç† `deeplTranslate` æ¶ˆæ¯
   - ä»£ç† API è¯·æ±‚ä»¥ç»•è¿‡ CORS
   - é”™è¯¯å¤„ç†å’Œé‡è¯•é€»è¾‘

3. **Settings UI** (`options.html`, `options.js`)
   - API å¯†é’¥é…ç½®
   - Free/Pro API é€‰æ‹©
   - è®¾ç½®ä¿å­˜å’ŒåŠ è½½

4. **Content Integration** (`content.js`)
   - æä¾›è€…é…ç½®æ›´æ–°
   - ç¿»è¯‘è§¦å‘å’Œç»“æœæ˜¾ç¤º
   - ä¸å…¶ä»–æä¾›è€…ååŒå·¥ä½œ

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

å¦‚æœæ‚¨æƒ³ä¸º DeepL æä¾›è€…æ·»åŠ æ–°åŠŸèƒ½ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æ­¥éª¤ï¼š

1. **ä¿®æ”¹ DeepLTranslateProvider ç±»** (`translation-service.js`)
```javascript
class DeepLTranslateProvider extends TranslationProvider {
  // æ·»åŠ æ–°æ–¹æ³•
  async yourNewMethod() {
    // å®ç°
  }
}
```

2. **æ›´æ–° API è¯·æ±‚å‚æ•°** (å¦‚éœ€è¦)
```javascript
const params = {
  text: text,
  target_lang: target_lang,
  source_lang: source_lang,
  // æ·»åŠ æ–°å‚æ•°
  formality: 'prefer_more', // ä¾‹å¦‚ï¼šæ­£å¼/éæ­£å¼
  tag_handling: 'html'      // ä¾‹å¦‚ï¼šHTML æ ‡ç­¾å¤„ç†
};
```

3. **æ›´æ–°è®¾ç½®ç•Œé¢** (`options.html`, `options.js`)
   - æ·»åŠ æ–°çš„é…ç½®é€‰é¡¹
   - ä¿å­˜/åŠ è½½é€»è¾‘

4. **æµ‹è¯•**
   - ä½¿ç”¨ `test-deepl-translate.html` æµ‹è¯•æ–°åŠŸèƒ½
   - æ£€æŸ¥é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ

### è°ƒè¯•æŠ€å·§

1. **æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—**
```javascript
// åœ¨ content.js æˆ– translation-service.js ä¸­
console.log('[DeepLTranslate] Debug info:', data);
```

2. **ä½¿ç”¨æµ‹è¯•é¡µé¢**
   - æ‰“å¼€ `test-deepl-translate.html`
   - æŸ¥çœ‹è¯¦ç»†çš„è¯·æ±‚å’Œå“åº”

3. **æ£€æŸ¥ Background Script**
```javascript
// åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼šchrome://extensions/
// ç‚¹å‡» "Service Worker" æŸ¥çœ‹æ—¥å¿—
```

## ç›¸å…³èµ„æº

- [DeepL API æ–‡æ¡£](https://www.deepl.com/docs-api)
- [DeepL Pro API æ³¨å†Œ](https://www.deepl.com/pro-api)
- [DeepL æ”¯æŒé¡µé¢](https://support.deepl.com/)
- [Chrome Extension API](https://developer.chrome.com/docs/extensions/)

## è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªé¡¹ç›®ä¸»è®¸å¯è¯ã€‚DeepL API çš„ä½¿ç”¨éœ€è¦éµå®ˆ [DeepL æœåŠ¡æ¡æ¬¾](https://www.deepl.com/pro-license)ã€‚

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-10-13)
- âœ¨ åˆå§‹å®ç° DeepL ç¿»è¯‘æœåŠ¡æä¾›è€…
- ğŸ”§ æ”¯æŒ Free å’Œ Pro API
- ğŸŒ æ”¯æŒ 30+ ç§è¯­è¨€
- ğŸ“ å®Œæ•´çš„æ–‡æ¡£å’Œæµ‹è¯•å·¥å…·
- ğŸ¨ ç¾è§‚çš„é…ç½®ç•Œé¢
- ğŸ› å®Œå–„çš„é”™è¯¯å¤„ç†

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** è¯·æŸ¥çœ‹ [DEEPL_IMPLEMENTATION.md](./DEEPL_IMPLEMENTATION.md) äº†è§£æŠ€æœ¯å®ç°ç»†èŠ‚ã€‚
